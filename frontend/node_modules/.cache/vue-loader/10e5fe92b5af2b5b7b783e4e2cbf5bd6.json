{"remainingRequest":"D:\\Program Files (x86)\\ys\\project\\springboot\\ÊµãÁõüÊ±áÁ≥ªÁªü\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\Program Files (x86)\\ys\\project\\springboot\\ÊµãÁõüÊ±áÁ≥ªÁªü\\frontend\\src\\views\\NewsManage.vue?vue&type=style&index=0&id=2976605c&scoped=true&lang=css","dependencies":[{"path":"D:\\Program Files (x86)\\ys\\project\\springboot\\ÊµãÁõüÊ±áÁ≥ªÁªü\\frontend\\src\\views\\NewsManage.vue","mtime":1750598747809},{"path":"D:\\Program Files (x86)\\ys\\project\\springboot\\ÊµãÁõüÊ±áÁ≥ªÁªü\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1750527325917},{"path":"D:\\Program Files (x86)\\ys\\project\\springboot\\ÊµãÁõüÊ±áÁ≥ªÁªü\\frontend\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1750527325076},{"path":"D:\\Program Files (x86)\\ys\\project\\springboot\\ÊµãÁõüÊ±áÁ≥ªÁªü\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1750527325628},{"path":"D:\\Program Files (x86)\\ys\\project\\springboot\\ÊµãÁõüÊ±áÁ≥ªÁªü\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1750527324930},{"path":"D:\\Program Files (x86)\\ys\\project\\springboot\\ÊµãÁõüÊ±áÁ≥ªÁªü\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1750527325038}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouY2FyZC1oZWFkZXIgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQp9DQoNCi5zZWFyY2gtYmFyIHsNCiAgbWFyZ2luLWJvdHRvbTogMjBweDsNCn0NCg0KLnNlYXJjaC1iYXIgLmVsLXJvdyB7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQp9DQoNCi51cGxvYWQtdGlwIHsNCiAgY29sb3I6ICM5OTk7DQogIGZvbnQtc2l6ZTogMTJweDsNCiAgbWFyZ2luLXRvcDogNXB4Ow0KfQ0KDQoucGFnaW5hdGlvbiB7DQogIG1hcmdpbi10b3A6IDIwcHg7DQogIHRleHQtYWxpZ246IHJpZ2h0Ow0KfQ0KDQouZW1wdHktZGF0YSB7DQogIHBhZGRpbmc6IDQwcHggMDsNCn0NCg0KLnZpZXctaXRlbSB7DQogIG1hcmdpbi1ib3R0b206IDE1cHg7DQp9DQoNCi5jb250ZW50LWJveCB7DQogIGJvcmRlcjogMXB4IHNvbGlkICNkY2RmZTY7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgcGFkZGluZzogMTBweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjdmYTsNCiAgbWF4LWhlaWdodDogMzAwcHg7DQogIG92ZXJmbG93LXk6IGF1dG87DQp9DQoNCi5zZWFyY2gtYmFyIHsNCiAgbWFyZ2luLWJvdHRvbTogMjBweDsNCiAgZGlzcGxheTogZmxleDsNCiAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCn0NCg0KLnBhZ2luYXRpb24gew0KICBtYXJnaW4tdG9wOiAyMHB4Ow0KICB0ZXh0LWFsaWduOiByaWdodDsNCn0NCg0KLnZpZXctaXRlbSB7DQogIG1hcmdpbi1ib3R0b206IDE1cHg7DQogIGxpbmUtaGVpZ2h0OiAxLjY7DQp9DQoNCi5jb250ZW50LWJveCB7DQogIG1hcmdpbi10b3A6IDEwcHg7DQogIHBhZGRpbmc6IDE1cHg7DQogIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgd2hpdGUtc3BhY2U6IHByZS13cmFwOw0KICBtYXgtaGVpZ2h0OiAzMDBweDsNCiAgb3ZlcmZsb3cteTogYXV0bzsNCn0NCg0KLmVtcHR5LWRhdGEgew0KICBwYWRkaW5nOiA0MHB4IDA7DQp9DQo="},{"version":3,"sources":["D:\\Program Files (x86)\\ys\\project\\springboot\\ÊµãÁõüÊ±áÁ≥ªÁªü\\frontend\\src\\views\\NewsManage.vue"],"names":[],"mappings":"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","file":"D:/Program Files (x86)/ys/project/springboot/ÊµãÁõüÊ±áÁ≥ªÁªü/frontend/src/views/NewsManage.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"news-manage\">\r\n    <el-card>\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>Âä®ÊÄÅÁÆ°ÁêÜ</span>\r\n          <div>\r\n            <el-button \r\n              type=\"warning\" \r\n              @click=\"batchAudit\" \r\n              :disabled=\"selectedNews.length === 0\" \r\n              v-if=\"user.role === 'ADMIN'\"\r\n            >\r\n              ÊâπÈáèÂÆ°Ê†∏\r\n            </el-button>\r\n            <el-button \r\n              type=\"danger\" \r\n              @click=\"batchDelete\" \r\n              :disabled=\"selectedNews.length === 0\"\r\n            >\r\n              ÊâπÈáèÂà†Èô§\r\n            </el-button>\r\n            <el-button type=\"success\" @click=\"exportNews\">ÂØºÂá∫Âä®ÊÄÅ</el-button>\r\n            <el-button type=\"primary\" @click=\"openAddDialog\">ÂèëÂ∏ÉÂä®ÊÄÅ</el-button>\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n      <div class=\"search-bar\">\r\n        <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\">\r\n            <el-input\r\n              v-model=\"searchKeyword\"\r\n              placeholder=\"ËØ∑ËæìÂÖ•Ê†áÈ¢ò„ÄÅ‰ΩúËÄÖÊàñÁÆÄ‰ªãËøõË°åÊ®°Á≥äÊêúÁ¥¢\"\r\n              clearable\r\n              @keyup.enter=\"loadNews\"\r\n            >\r\n              <template #append>\r\n                <el-button @click=\"loadNews\">ÊêúÁ¥¢</el-button>\r\n              </template>\r\n            </el-input>\r\n          </el-col>\r\n          <el-col :span=\"4\">\r\n            <el-select v-model=\"statusFilter\" placeholder=\"Áä∂ÊÄÅÁ≠õÈÄâ\" style=\"width: 100%\" @change=\"loadNews\">\r\n              <el-option label=\"ÂÖ®ÈÉ®Áä∂ÊÄÅ\" value=\"\" />\r\n              <el-option label=\"ÂæÖÂÆ°Ê†∏\" value=\"0\" />\r\n              <el-option label=\"Â∑≤ÂèëÂ∏É\" value=\"1\" />\r\n              <el-option label=\"Â∑≤ÊãíÁªù\" value=\"2\" />\r\n            </el-select>\r\n          </el-col>\r\n          <el-col :span=\"3\">\r\n            <el-select v-model=\"categoryFilter\" placeholder=\"ÂàÜÁ±ªÁ≠õÈÄâ\" style=\"width: 100%\" @change=\"loadNews\">\r\n              <el-option label=\"ÂÖ®ÈÉ®ÂàÜÁ±ª\" value=\"\" />\r\n              <el-option label=\"Ë°å‰∏öÂä®ÊÄÅ\" value=\"Ë°å‰∏öÂä®ÊÄÅ\" />\r\n              <el-option label=\"‰ºöËÆÆÈÄöÁü•\" value=\"‰ºöËÆÆÈÄöÁü•\" />\r\n              <el-option label=\"ÊäÄÊúØÂàÜ‰∫´\" value=\"ÊäÄÊúØÂàÜ‰∫´\" />\r\n              <el-option label=\"ÂÖ¨Âè∏Êñ∞Èóª\" value=\"ÂÖ¨Âè∏Êñ∞Èóª\" />\r\n            </el-select>\r\n          </el-col>\r\n          <el-col :span=\"3\">\r\n            <el-select v-model=\"authorFilter\" placeholder=\"‰ΩúËÄÖÁ≠õÈÄâ\" style=\"width: 100%\" @change=\"loadNews\">\r\n              <el-option label=\"ÂÖ®ÈÉ®Âä®ÊÄÅ\" value=\"\" />\r\n              <el-option label=\"ÊàëÁöÑÂä®ÊÄÅ\" value=\"mine\" />\r\n            </el-select>\r\n          </el-col>\r\n          <el-col :span=\"6\">\r\n            <el-date-picker\r\n              v-model=\"createTimeRange\"\r\n              type=\"daterange\"\r\n              range-separator=\"Ëá≥\"\r\n              start-placeholder=\"ÂºÄÂßãÊó•Êúü\"\r\n              end-placeholder=\"ÁªìÊùüÊó•Êúü\"\r\n              style=\"width: 100%\"\r\n              @change=\"loadNews\"\r\n            />\r\n          </el-col>\r\n          <el-col :span=\"2\">\r\n            <el-button @click=\"resetFilters\">ÈáçÁΩÆ</el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n\r\n      <el-table :data=\"newsList\" style=\"width: 100%\" v-loading=\"loading\" @selection-change=\"handleSelectionChange\">\r\n        <template #empty>\r\n          <div class=\"empty-data\">\r\n            <el-empty description=\"ÊöÇÊó†Âä®ÊÄÅÊï∞ÊçÆ\" />\r\n          </div>\r\n        </template>\r\n        <el-table-column type=\"selection\" width=\"55\" :selectable=\"canSelect\" />\r\n        <el-table-column prop=\"title\" label=\"Ê†áÈ¢ò\" width=\"180\" show-overflow-tooltip />\r\n        <el-table-column label=\"Â∞ÅÈù¢\" width=\"80\">\r\n          <template #default=\"scope\">\r\n            <img v-if=\"scope.row.coverImage\" :src=\"getImageUrl(scope.row.coverImage)\" style=\"width: 50px; height: 30px; object-fit: cover;\" />\r\n            <span v-else>Êó†</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"summary\" label=\"ÁÆÄ‰ªã\" width=\"150\" show-overflow-tooltip />\r\n        <el-table-column prop=\"category\" label=\"ÂàÜÁ±ª\" width=\"100\" />\r\n        <el-table-column prop=\"author\" label=\"‰ΩúËÄÖ\" width=\"120\">\r\n          <template #default=\"scope\">\r\n            <span :style=\"{ color: scope.row.authorId === user.id ? '#409EFF' : '' }\">\r\n              {{ scope.row.author }}\r\n              <el-tag v-if=\"scope.row.authorId === user.id\" size=\"small\" type=\"primary\">ÊàëÁöÑ</el-tag>\r\n            </span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"status\" label=\"Áä∂ÊÄÅ\" width=\"100\">\r\n          <template #default=\"scope\">\r\n            <el-tag :type=\"getStatusType(scope.row.status)\">\r\n              {{ getStatusText(scope.row.status) }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"viewCount\" label=\"ÊµèËßàÈáè\" width=\"100\" />\r\n        <el-table-column prop=\"createTime\" label=\"ÂàõÂª∫Êó∂Èó¥\" width=\"180\" />\r\n        <el-table-column label=\"Êìç‰Ωú\" width=\"220\">\r\n          <template #default=\"scope\">\r\n            <el-button size=\"small\" @click=\"viewNews(scope.row)\">Êü•Áúã</el-button>\r\n            <el-button \r\n              size=\"small\" \r\n              @click=\"editNews(scope.row)\" \r\n              v-if=\"canEdit(scope.row)\"\r\n            >\r\n              ÁºñËæë\r\n            </el-button>\r\n            <el-button \r\n              size=\"small\" \r\n              type=\"primary\" \r\n              @click=\"auditNews(scope.row)\" \r\n              v-if=\"canAudit(scope.row)\"\r\n            >\r\n              ÂÆ°Ê†∏\r\n            </el-button>\r\n            <el-button \r\n              size=\"small\" \r\n              type=\"danger\" \r\n              @click=\"deleteNews(scope.row)\" \r\n              v-if=\"canDelete(scope.row)\"\r\n            >\r\n              Âà†Èô§\r\n            </el-button>\r\n            <span \r\n              v-if=\"!canEdit(scope.row) && !canAudit(scope.row) && !canDelete(scope.row) && scope.row.authorId !== user.id\" \r\n              style=\"color: #999; font-size: 12px;\"\r\n            >\r\n              ‰ªÖÊü•Áúã\r\n            </span>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <div class=\"pagination\">\r\n        <el-pagination\r\n          v-model:current-page=\"currentPage\"\r\n          v-model:page-size=\"pageSize\"\r\n          :total=\"total\"\r\n          layout=\"total, sizes, prev, pager, next\"\r\n          :page-sizes=\"[10, 20, 50, 100]\"\r\n          @current-change=\"loadNews\"\r\n          @size-change=\"handleSizeChange\"\r\n        />\r\n      </div>\r\n    </el-card>\r\n\r\n    <!-- ÂèëÂ∏É/ÁºñËæëÂä®ÊÄÅÂØπËØùÊ°Ü -->\r\n    <el-dialog v-model=\"showAddDialog\" :title=\"editingNews ? 'ÁºñËæëÂä®ÊÄÅ' : 'ÂèëÂ∏ÉÂä®ÊÄÅ'\" width=\"800px\">\r\n      <el-form :model=\"newsForm\" ref=\"newsFormRef\" label-width=\"100px\">\r\n        <el-form-item label=\"Ê†áÈ¢ò\">\r\n          <el-input v-model=\"newsForm.title\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"ÁÆÄ‰ªã\">\r\n          <el-input v-model=\"newsForm.summary\" type=\"textarea\" :rows=\"3\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"ÂàÜÁ±ª\">\r\n          <el-select v-model=\"newsForm.category\" placeholder=\"ËØ∑ÈÄâÊã©ÂàÜÁ±ª\" style=\"width: 100%\">\r\n            <el-option label=\"Ë°å‰∏öÂä®ÊÄÅ\" value=\"Ë°å‰∏öÂä®ÊÄÅ\" />\r\n            <el-option label=\"ÊäÄÊúØÂàÜ‰∫´\" value=\"ÊäÄÊúØÂàÜ‰∫´\" />\r\n            <el-option label=\"ÂÖ¨Âè∏Êñ∞Èóª\" value=\"ÂÖ¨Âè∏Êñ∞Èóª\" />\r\n            <el-option label=\"ÂÖ∂‰ªñ\" value=\"ÂÖ∂‰ªñ\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"ÂÜÖÂÆπ\">\r\n          <el-input v-model=\"newsForm.content\" type=\"textarea\" :rows=\"10\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"Â∞ÅÈù¢ÂõæÁâá\">\r\n          <el-upload\r\n            class=\"upload-demo\"\r\n            :action=\"uploadUrl\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleCoverSuccess\"\r\n            :before-upload=\"beforeImageUpload\"\r\n            accept=\"image/*\"\r\n          >\r\n            <el-button size=\"small\" type=\"primary\">ÁÇπÂáª‰∏ä‰º†Â∞ÅÈù¢ÂõæÁâá</el-button>\r\n          </el-upload>\r\n          <div v-if=\"newsForm.coverImage\" style=\"margin-top: 10px;\">\r\n            <img :src=\"getImageUrl(newsForm.coverImage)\" style=\"width: 100px; height: 60px; object-fit: cover;\" />\r\n            <el-button size=\"small\" type=\"danger\" @click=\"newsForm.coverImage = ''\" style=\"margin-left: 10px;\">Âà†Èô§</el-button>\r\n          </div>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"ÂÜÖÂÆπÂõæÁâá\">\r\n          <el-upload\r\n            class=\"upload-demo\"\r\n            :action=\"uploadUrl\"\r\n            :show-file-list=\"true\"\r\n            :on-success=\"handleContentImageSuccess\"\r\n            :before-upload=\"beforeImageUpload\"\r\n            accept=\"image/*\"\r\n            multiple\r\n          >\r\n            <el-button size=\"small\" type=\"primary\">‰∏ä‰º†ÂÜÖÂÆπÂõæÁâá</el-button>\r\n          </el-upload>\r\n          <div class=\"upload-tip\">ÊîØÊåÅÂ§öÂº†ÂõæÁâá‰∏ä‰º†ÔºåÂèØÊèíÂÖ•Âà∞ÂÜÖÂÆπ‰∏≠</div>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"ËßÜÈ¢ëÊñá‰ª∂\">\r\n          <el-upload\r\n            class=\"upload-demo\"\r\n            :action=\"uploadUrl\"\r\n            :show-file-list=\"true\"\r\n            :on-success=\"handleVideoSuccess\"\r\n            :before-upload=\"beforeVideoUpload\"\r\n            accept=\"video/*\"\r\n          >\r\n            <el-button size=\"small\" type=\"primary\">‰∏ä‰º†ËßÜÈ¢ë</el-button>\r\n          </el-upload>\r\n          <div class=\"upload-tip\">ÊîØÊåÅmp4„ÄÅavi„ÄÅmovÁ≠âÊ†ºÂºèÔºåÂ§ßÂ∞è‰∏çË∂ÖËøá50MB</div>\r\n        </el-form-item>\r\n        \r\n        <el-form-item label=\"ÈôÑ‰ª∂Êñá‰ª∂\">\r\n          <el-upload\r\n            class=\"upload-demo\"\r\n            :action=\"uploadUrl\"\r\n            :show-file-list=\"true\"\r\n            :on-success=\"handleAttachmentSuccess\"\r\n            :before-upload=\"beforeAttachmentUpload\"\r\n            multiple\r\n          >\r\n            <el-button size=\"small\" type=\"primary\">‰∏ä‰º†ÈôÑ‰ª∂</el-button>\r\n          </el-upload>\r\n          <div class=\"upload-tip\">ÊîØÊåÅÊñáÊ°£„ÄÅÂéãÁº©ÂåÖÁ≠âÊ†ºÂºèÔºåÂçï‰∏™Êñá‰ª∂‰∏çË∂ÖËøá10MB</div>\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <el-button @click=\"showAddDialog = false\">ÂèñÊ∂à</el-button>\r\n        <el-button type=\"primary\" @click=\"saveNews\">‰øùÂ≠ò</el-button>\r\n      </template>\r\n    </el-dialog>\r\n\r\n    <!-- ÂÆ°Ê†∏ÂØπËØùÊ°Ü -->\r\n    <el-dialog v-model=\"showAuditDialog\" title=\"ÂÆ°Ê†∏Âä®ÊÄÅ\" width=\"400px\">\r\n      <div style=\"margin-bottom: 20px;\">\r\n        <strong>Ê†áÈ¢òÔºö</strong>{{ auditingNews && auditingNews.title }}\r\n      </div>\r\n      <el-radio-group v-model=\"auditStatus\">\r\n        <el-radio :label=\"1\">ÈÄöËøá</el-radio>\r\n        <el-radio :label=\"2\">ÊãíÁªù</el-radio>\r\n      </el-radio-group>\r\n      <template #footer>\r\n        <el-button @click=\"showAuditDialog = false\">ÂèñÊ∂à</el-button>\r\n        <el-button type=\"primary\" @click=\"submitAudit\">Á°ÆÂÆö</el-button>\r\n      </template>\r\n    </el-dialog>\r\n\r\n    <!-- Êü•ÁúãÂØπËØùÊ°Ü -->\r\n    <el-dialog v-model=\"showViewDialog\" title=\"Êü•ÁúãÂä®ÊÄÅ\" width=\"800px\">\r\n      <div v-if=\"viewingNews\">\r\n        <div class=\"view-item\">\r\n          <strong>Ê†áÈ¢òÔºö</strong>{{ viewingNews.title }}\r\n        </div>\r\n        <div class=\"view-item\">\r\n          <strong>‰ΩúËÄÖÔºö</strong>{{ viewingNews.author }}\r\n        </div>\r\n        <div class=\"view-item\">\r\n          <strong>Áä∂ÊÄÅÔºö</strong>\r\n          <el-tag :type=\"getStatusType(viewingNews.status)\">\r\n            {{ getStatusText(viewingNews.status) }}\r\n          </el-tag>\r\n        </div>\r\n        <div class=\"view-item\">\r\n          <strong>ÁÆÄ‰ªãÔºö</strong>{{ viewingNews.summary }}\r\n        </div>\r\n        <div class=\"view-item\" v-if=\"viewingNews.coverImage\">\r\n          <strong>Â∞ÅÈù¢ÂõæÁâáÔºö</strong><br/>\r\n          <img :src=\"getImageUrl(viewingNews.coverImage)\" style=\"max-width: 300px; max-height: 200px; object-fit: cover;\" />\r\n        </div>\r\n        <div class=\"view-item\" v-if=\"viewingNews.contentImages && JSON.parse(viewingNews.contentImages || '[]').length > 0\">\r\n          <strong>ÂÜÖÂÆπÂõæÁâáÔºö</strong><br/>\r\n          <div style=\"display: flex; flex-wrap: wrap; gap: 10px;\">\r\n            <img \r\n              v-for=\"(img, index) in JSON.parse(viewingNews.contentImages)\" \r\n              :key=\"index\"\r\n              :src=\"getImageUrl(img)\" \r\n              style=\"width: 100px; height: 100px; object-fit: cover; border-radius: 4px;\" \r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"view-item\" v-if=\"viewingNews.videos && JSON.parse(viewingNews.videos || '[]').length > 0\">\r\n          <strong>ËßÜÈ¢ëÊñá‰ª∂Ôºö</strong><br/>\r\n          <div style=\"display: flex; flex-wrap: wrap; gap: 10px;\">\r\n            <video \r\n              v-for=\"(video, index) in JSON.parse(viewingNews.videos)\" \r\n              :key=\"index\"\r\n              :src=\"getImageUrl(video)\" \r\n              controls\r\n              style=\"width: 200px; height: 150px; border-radius: 4px;\" \r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"view-item\" v-if=\"viewingNews.attachments && JSON.parse(viewingNews.attachments || '[]').length > 0\">\r\n          <strong>ÈôÑ‰ª∂Êñá‰ª∂Ôºö</strong><br/>\r\n          <div style=\"display: flex; flex-wrap: wrap; gap: 10px;\">\r\n            <a \r\n              v-for=\"(attachment, index) in JSON.parse(viewingNews.attachments)\" \r\n              :key=\"index\"\r\n              :href=\"getImageUrl(attachment)\" \r\n              target=\"_blank\"\r\n              style=\"display: inline-block; padding: 5px 10px; background: #f0f0f0; border-radius: 4px; text-decoration: none; color: #333;\"\r\n            >\r\n              üìé ÈôÑ‰ª∂{{ index + 1 }}\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div class=\"view-item\">\r\n          <strong>ÂÜÖÂÆπÔºö</strong>\r\n          <div class=\"content-box\" v-html=\"viewingNews.content\"></div>\r\n        </div>\r\n        <div class=\"view-item\">\r\n          <strong>ÊµèËßàÈáèÔºö</strong>{{ viewingNews.viewCount || 0 }}\r\n        </div>\r\n        <div class=\"view-item\">\r\n          <strong>ÂàõÂª∫Êó∂Èó¥Ôºö</strong>{{ viewingNews.createTime }}\r\n        </div>\r\n      </div>\r\n      <template #footer>\r\n        <el-button @click=\"showViewDialog = false\">ÂÖ≥Èó≠</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, onMounted, computed } from 'vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport request from '../utils/request'\r\n\r\nconst newsList = ref([])\r\nconst loading = ref(false)\r\nconst showAddDialog = ref(false)\r\nconst showAuditDialog = ref(false)\r\nconst showViewDialog = ref(false)\r\nconst editingNews = ref(null)\r\nconst auditingNews = ref(null)\r\nconst viewingNews = ref(null)\r\nconst searchKeyword = ref('')\r\nconst statusFilter = ref('')\r\nconst categoryFilter = ref('')\r\nconst authorFilter = ref('')\r\nconst createTimeRange = ref([])\r\nconst currentPage = ref(1)\r\nconst pageSize = ref(10)\r\nconst total = ref(0)\r\nconst auditStatus = ref(1)\r\nconst uploadUrl = ref('/api/file/upload')\r\nconst selectedNews = ref([])\r\n\r\nconst user = computed(() => {\r\n  const userStr = localStorage.getItem('user')\r\n  return userStr ? JSON.parse(userStr) : {}\r\n})\r\n\r\nconst newsForm = reactive({\r\n  title: '',\r\n  summary: '',\r\n  content: '',\r\n  category: '',\r\n  coverImage: '',\r\n  contentImages: [],\r\n  videos: [],\r\n  attachments: []\r\n})\r\n\r\nconst newsFormRef = ref()\r\n\r\nonMounted(() => {\r\n  loadNews()\r\n})\r\n\r\nconst loadNews = async () => {\r\n  loading.value = true\r\n  try {\r\n    const params = {\r\n      current: currentPage.value,\r\n      size: pageSize.value,\r\n      keyword: searchKeyword.value\r\n    }\r\n    \r\n    // Ê∑ªÂä†Áä∂ÊÄÅÁ≠õÈÄâ\r\n    if (statusFilter.value !== '') {\r\n      params.status = statusFilter.value\r\n    }\r\n    \r\n    // Ê∑ªÂä†ÂàÜÁ±ªÁ≠õÈÄâ\r\n    if (categoryFilter.value !== '') {\r\n      params.category = categoryFilter.value\r\n    }\r\n    \r\n    // Ê∑ªÂä†ÂàõÂª∫Êó∂Èó¥Á≠õÈÄâ\r\n    if (createTimeRange.value && createTimeRange.value.length === 2) {\r\n      const startDate = createTimeRange.value[0]\r\n      const endDate = createTimeRange.value[1]\r\n      \r\n      if (startDate instanceof Date) {\r\n        params.startDate = startDate.toISOString().split('T')[0]\r\n      } else {\r\n        params.startDate = startDate\r\n      }\r\n      \r\n      if (endDate instanceof Date) {\r\n        params.endDate = endDate.toISOString().split('T')[0]\r\n      } else {\r\n        params.endDate = endDate\r\n      }\r\n    }\r\n    \r\n    // Ê∑ªÂä†‰ΩúËÄÖÁ≠õÈÄâ\r\n    if (authorFilter.value === 'mine') {\r\n      params.authorId = user.value.id\r\n    }\r\n\r\n    const res = await request.get('/news/page', { params })\r\n    newsList.value = res.data.records || []\r\n    total.value = res.data.total || 0\r\n  } catch (error) {\r\n    console.error('Âä†ËΩΩÂä®ÊÄÅÂàóË°®Â§±Ë¥•:', error)\r\n    newsList.value = []\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst getStatusType = (status) => {\r\n  const types = { 0: 'warning', 1: 'success', 2: 'danger' }\r\n  return types[status] || 'info'\r\n}\r\n\r\nconst getStatusText = (status) => {\r\n  const texts = { 0: 'ÂæÖÂÆ°Ê†∏', 1: 'Â∑≤ÂèëÂ∏É', 2: 'Â∑≤ÊãíÁªù' }\r\n  return texts[status] || 'Êú™Áü•'\r\n}\r\n\r\nconst canEdit = (news) => {\r\n  return user.value.role === 'ADMIN' || news.authorId === user.value.id\r\n}\r\n\r\nconst canAudit = (news) => {\r\n  return user.value.role === 'ADMIN' && news.status === 0\r\n}\r\n\r\nconst canDelete = (news) => {\r\n  return user.value.role === 'ADMIN' || news.authorId === user.value.id\r\n}\r\n\r\nconst canSelect = (row) => {\r\n  // ÁÆ°ÁêÜÂëòÂèØ‰ª•ÈÄâÊã©ÊâÄÊúâÂä®ÊÄÅÔºåÊôÆÈÄöÁî®Êà∑Âè™ËÉΩÈÄâÊã©Ëá™Â∑±ÁöÑÂä®ÊÄÅ\r\n  return user.value.role === 'ADMIN' || row.authorId === user.value.id\r\n}\r\n\r\nconst viewNews = (news) => {\r\n  viewingNews.value = news\r\n  showViewDialog.value = true\r\n}\r\n\r\nconst editNews = (news) => {\r\n  editingNews.value = news\r\n  Object.assign(newsForm, {\r\n    ...news,\r\n    contentImages: news.contentImages ? JSON.parse(news.contentImages) : [],\r\n    videos: news.videos ? JSON.parse(news.videos) : [],\r\n    attachments: news.attachments ? JSON.parse(news.attachments) : []\r\n  })\r\n  showAddDialog.value = true\r\n}\r\n\r\nconst saveNews = async () => {\r\n  try {\r\n    // È™åËØÅÂøÖÂ°´Â≠óÊÆµ\r\n    if (!newsForm.title.trim()) {\r\n      ElMessage.error('ËØ∑ËæìÂÖ•Ê†áÈ¢ò')\r\n      return\r\n    }\r\n    if (!newsForm.content.trim()) {\r\n      ElMessage.error('ËØ∑ËæìÂÖ•ÂÜÖÂÆπ')\r\n      return\r\n    }\r\n    if (!newsForm.category) {\r\n      ElMessage.error('ËØ∑ÈÄâÊã©ÂàÜÁ±ª')\r\n      return\r\n    }\r\n    \r\n    // ÂáÜÂ§áÊèê‰∫§Êï∞ÊçÆ\r\n    const formData = {\r\n      ...newsForm,\r\n      contentImages: JSON.stringify(newsForm.contentImages),\r\n      videos: JSON.stringify(newsForm.videos),\r\n      attachments: JSON.stringify(newsForm.attachments)\r\n    }\r\n    \r\n    if (editingNews.value) {\r\n      await request.put(`/news/${editingNews.value.id}`, formData)\r\n      ElMessage.success('Êõ¥Êñ∞ÊàêÂäü')\r\n    } else {\r\n      await request.post('/news', formData)\r\n      ElMessage.success('ÂèëÂ∏ÉÊàêÂäü')\r\n    }\r\n    showAddDialog.value = false\r\n    resetForm()\r\n    loadNews()\r\n  } catch (error) {\r\n    console.error('‰øùÂ≠òÂä®ÊÄÅÂ§±Ë¥•:', error)\r\n    ElMessage.error('‰øùÂ≠òÂ§±Ë¥•')\r\n  }\r\n}\r\n\r\nconst auditNews = (news) => {\r\n  auditingNews.value = news\r\n  auditStatus.value = 1\r\n  showAuditDialog.value = true\r\n}\r\n\r\nconst submitAudit = async () => {\r\n  try {\r\n    await request.post(`/news/${auditingNews.value.id}/audit`, {\r\n      status: auditStatus.value\r\n    })\r\n    ElMessage.success('ÂÆ°Ê†∏ÊàêÂäü')\r\n    showAuditDialog.value = false\r\n    loadNews()\r\n  } catch (error) {\r\n    console.error('ÂÆ°Ê†∏Â§±Ë¥•:', error)\r\n  }\r\n}\r\n\r\nconst deleteNews = async (news) => {\r\n  try {\r\n    await ElMessageBox.confirm(\r\n      `Á°ÆÂÆöË¶ÅÂà†Èô§Âä®ÊÄÅ\"${news.title}\"ÂêóÔºüÂà†Èô§Âêé‰∏çÂèØÊÅ¢Â§çÔºÅ`, \r\n      'Á°ÆËÆ§Âà†Èô§', \r\n      {\r\n        confirmButtonText: 'Á°ÆÂÆöÂà†Èô§',\r\n        cancelButtonText: 'ÂèñÊ∂à',\r\n        type: 'warning',\r\n        confirmButtonClass: 'el-button--danger'\r\n      }\r\n    )\r\n    await request.delete(`/news/${news.id}`)\r\n    ElMessage.success('Âà†Èô§ÊàêÂäü')\r\n    loadNews()\r\n  } catch (error) {\r\n    if (error !== 'cancel') {\r\n      console.error('Âà†Èô§Âä®ÊÄÅÂ§±Ë¥•:', error)\r\n      ElMessage.error('Âà†Èô§Â§±Ë¥•')\r\n    }\r\n  }\r\n}\r\n\r\nconst resetForm = () => {\r\n  editingNews.value = null\r\n  Object.assign(newsForm, {\r\n    title: '',\r\n    summary: '',\r\n    content: '',\r\n    category: '',\r\n    coverImage: '',\r\n    contentImages: [],\r\n    videos: [],\r\n    attachments: []\r\n  })\r\n}\r\n\r\n// ÈáçÁΩÆÁ≠õÈÄâÊù°‰ª∂\r\nconst resetFilters = () => {\r\n  searchKeyword.value = ''\r\n  statusFilter.value = ''\r\n  categoryFilter.value = ''\r\n  authorFilter.value = ''\r\n  createTimeRange.value = []\r\n  currentPage.value = 1\r\n  loadNews()\r\n}\r\n\r\n// ÊâìÂºÄÂèëÂ∏ÉÂØπËØùÊ°Ü\r\nconst openAddDialog = () => {\r\n  resetForm()\r\n  showAddDialog.value = true\r\n}\r\n\r\nconst handleCoverSuccess = (response) => {\r\n  if (response.code === 200) {\r\n    newsForm.coverImage = response.data\r\n    ElMessage.success('ÂõæÁâá‰∏ä‰º†ÊàêÂäü')\r\n  } else {\r\n    ElMessage.error('ÂõæÁâá‰∏ä‰º†Â§±Ë¥•')\r\n  }\r\n}\r\n\r\nconst beforeImageUpload = (file) => {\r\n  const isImage = file.type.indexOf('image/') === 0\r\n  const isLt2M = file.size / 1024 / 1024 < 2\r\n\r\n  if (!isImage) {\r\n    ElMessage.error('Âè™ËÉΩ‰∏ä‰º†ÂõæÁâáÊñá‰ª∂!')\r\n    return false\r\n  }\r\n  if (!isLt2M) {\r\n    ElMessage.error('ÂõæÁâáÂ§ßÂ∞è‰∏çËÉΩË∂ÖËøá 2MB!')\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\nconst beforeVideoUpload = (file) => {\r\n  const isVideo = file.type.indexOf('video/') === 0\r\n  const isLt50M = file.size / 1024 / 1024 < 50\r\n\r\n  if (!isVideo) {\r\n    ElMessage.error('Âè™ËÉΩ‰∏ä‰º†ËßÜÈ¢ëÊñá‰ª∂!')\r\n    return false\r\n  }\r\n  if (!isLt50M) {\r\n    ElMessage.error('ËßÜÈ¢ëÂ§ßÂ∞è‰∏çËÉΩË∂ÖËøá 50MB!')\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\nconst beforeAttachmentUpload = (file) => {\r\n  const isLt10M = file.size / 1024 / 1024 < 10\r\n\r\n  if (!isLt10M) {\r\n    ElMessage.error('ÈôÑ‰ª∂Â§ßÂ∞è‰∏çËÉΩË∂ÖËøá 10MB!')\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\nconst handleContentImageSuccess = (response) => {\r\n  if (response.code === 200) {\r\n    newsForm.contentImages.push(response.data)\r\n    ElMessage.success('ÂÜÖÂÆπÂõæÁâá‰∏ä‰º†ÊàêÂäüÔºåÂèØÂ§çÂà∂ÈìæÊé•ÊèíÂÖ•Âà∞ÂÜÖÂÆπ‰∏≠Ôºö' + getImageUrl(response.data))\r\n  } else {\r\n    ElMessage.error('ÂõæÁâá‰∏ä‰º†Â§±Ë¥•')\r\n  }\r\n}\r\n\r\nconst handleVideoSuccess = (response) => {\r\n  if (response.code === 200) {\r\n    newsForm.videos.push(response.data)\r\n    ElMessage.success('ËßÜÈ¢ë‰∏ä‰º†ÊàêÂäü')\r\n  } else {\r\n    ElMessage.error('ËßÜÈ¢ë‰∏ä‰º†Â§±Ë¥•')\r\n  }\r\n}\r\n\r\nconst handleAttachmentSuccess = (response) => {\r\n  if (response.code === 200) {\r\n    newsForm.attachments.push(response.data)\r\n    ElMessage.success('ÈôÑ‰ª∂‰∏ä‰º†ÊàêÂäü')\r\n  } else {\r\n    ElMessage.error('ÈôÑ‰ª∂‰∏ä‰º†Â§±Ë¥•')\r\n  }\r\n}\r\n\r\nconst getImageUrl = (imagePath) => {\r\n  if (!imagePath) return ''\r\n  if (imagePath.startsWith('http')) return imagePath\r\n  return `http://localhost:8080/api${imagePath}`\r\n}\r\n\r\nconst exportNews = async () => {\r\n  try {\r\n    const params = {\r\n      keyword: searchKeyword.value\r\n    }\r\n    \r\n    if (statusFilter.value !== '') {\r\n      params.status = statusFilter.value\r\n    }\r\n    \r\n    if (categoryFilter.value !== '') {\r\n      params.category = categoryFilter.value\r\n    }\r\n    \r\n    if (authorFilter.value === 'mine') {\r\n      params.authorId = user.value.id\r\n    }\r\n    \r\n    const res = await request.get('/news/export', {\r\n      params,\r\n      responseType: 'blob'\r\n    })\r\n    \r\n    const blob = new Blob([res], { type: 'text/csv;charset=utf-8' })\r\n    const url = window.URL.createObjectURL(blob)\r\n    const a = document.createElement('a')\r\n    a.href = url\r\n    a.download = `news_${new Date().toISOString().split('T')[0]}.csv`\r\n    document.body.appendChild(a)\r\n    a.click()\r\n    document.body.removeChild(a)\r\n    window.URL.revokeObjectURL(url)\r\n    \r\n    ElMessage.success('ÂØºÂá∫ÊàêÂäü')\r\n  } catch (error) {\r\n    console.error('ÂØºÂá∫Â§±Ë¥•:', error)\r\n    ElMessage.error('ÂØºÂá∫Â§±Ë¥•')\r\n  }\r\n}\r\n\r\nconst handleSizeChange = (size) => {\r\n  pageSize.value = size\r\n  currentPage.value = 1\r\n  loadNews()\r\n}\r\n\r\nconst handleSelectionChange = (selected) => {\r\n  selectedNews.value = selected\r\n}\r\n\r\nconst batchAudit = async () => {\r\n  try {\r\n    // Ê£ÄÊü•ÊùÉÈôêÔºöÂè™ÊúâÁÆ°ÁêÜÂëòÂèØ‰ª•ÊâπÈáèÂÆ°Ê†∏\r\n    if (user.value.role !== 'ADMIN') {\r\n      ElMessage.error('Âè™ÊúâÁÆ°ÁêÜÂëòÂèØ‰ª•ÊâπÈáèÂÆ°Ê†∏')\r\n      return\r\n    }\r\n    \r\n    await ElMessageBox.confirm('Á°ÆÂÆöË¶ÅÊâπÈáèÂÆ°Ê†∏ÈÄâ‰∏≠ÁöÑÂä®ÊÄÅÂêóÔºü', 'ÊèêÁ§∫')\r\n    const ids = selectedNews.value.map(news => news.id)\r\n    await request.post('/news/batch/audit', {\r\n      ids,\r\n      status: 1\r\n    })\r\n    ElMessage.success('ÊâπÈáèÂÆ°Ê†∏ÊàêÂäü')\r\n    selectedNews.value = []\r\n    loadNews()\r\n  } catch (error) {\r\n    if (error !== 'cancel') {\r\n      console.error('ÊâπÈáèÂÆ°Ê†∏Â§±Ë¥•:', error)\r\n      ElMessage.error('ÊâπÈáèÂÆ°Ê†∏Â§±Ë¥•')\r\n    }\r\n  }\r\n}\r\n\r\nconst batchDelete = async () => {\r\n  try {\r\n    // Ê£ÄÊü•ÊùÉÈôêÔºöÊôÆÈÄöÁî®Êà∑Âè™ËÉΩÂà†Èô§Ëá™Â∑±ÁöÑÂä®ÊÄÅ\r\n    const unauthorizedNews = selectedNews.value.filter(news => \r\n      user.value.role !== 'ADMIN' && news.authorId !== user.value.id\r\n    )\r\n    \r\n    if (unauthorizedNews.length > 0) {\r\n      ElMessage.error(`ÈÄâ‰∏≠ÁöÑÂä®ÊÄÅ‰∏≠Êúâ${unauthorizedNews.length}Êù°‰∏çÊòØÊÇ®ÂàõÂª∫ÁöÑÔºåÊó†Ê≥ïÂà†Èô§`)\r\n      return\r\n    }\r\n    \r\n    await ElMessageBox.confirm(\r\n      `Á°ÆÂÆöË¶ÅÂà†Èô§ÈÄâ‰∏≠ÁöÑ${selectedNews.value.length}Êù°Âä®ÊÄÅÂêóÔºüÂà†Èô§Âêé‰∏çÂèØÊÅ¢Â§çÔºÅ`, \r\n      'Á°ÆËÆ§ÊâπÈáèÂà†Èô§', \r\n      {\r\n        confirmButtonText: 'Á°ÆÂÆöÂà†Èô§',\r\n        cancelButtonText: 'ÂèñÊ∂à',\r\n        type: 'warning',\r\n        confirmButtonClass: 'el-button--danger'\r\n      }\r\n    )\r\n    const ids = selectedNews.value.map(news => news.id)\r\n    await request.delete('/news/batch', {\r\n      data: { ids }\r\n    })\r\n    ElMessage.success('ÊâπÈáèÂà†Èô§ÊàêÂäü')\r\n    selectedNews.value = []\r\n    loadNews()\r\n  } catch (error) {\r\n    if (error !== 'cancel') {\r\n      console.error('ÊâπÈáèÂà†Èô§Â§±Ë¥•:', error)\r\n      ElMessage.error('ÊâπÈáèÂà†Èô§Â§±Ë¥•')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.search-bar {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.search-bar .el-row {\r\n  align-items: center;\r\n}\r\n\r\n.upload-tip {\r\n  color: #999;\r\n  font-size: 12px;\r\n  margin-top: 5px;\r\n}\r\n\r\n.pagination {\r\n  margin-top: 20px;\r\n  text-align: right;\r\n}\r\n\r\n.empty-data {\r\n  padding: 40px 0;\r\n}\r\n\r\n.view-item {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.content-box {\r\n  border: 1px solid #dcdfe6;\r\n  border-radius: 4px;\r\n  padding: 10px;\r\n  background-color: #f5f7fa;\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.search-bar {\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.pagination {\r\n  margin-top: 20px;\r\n  text-align: right;\r\n}\r\n\r\n.view-item {\r\n  margin-bottom: 15px;\r\n  line-height: 1.6;\r\n}\r\n\r\n.content-box {\r\n  margin-top: 10px;\r\n  padding: 15px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 4px;\r\n  white-space: pre-wrap;\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.empty-data {\r\n  padding: 40px 0;\r\n}\r\n</style> "]}]}